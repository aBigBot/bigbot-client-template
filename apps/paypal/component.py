from main.Component import PaymentProvider


class PayPalCheckout(PaymentProvider):
    def __init__(self, config):
        super(PayPalCheckout, self).__init__(config)
        self.update_meta(
            {
                "name": "Paypal",
                "icon": "data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0IDY0IiBoZWlnaHQ9IjY0cHgiIGlkPSJMYXllcl8xIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9IjAgMCA2NCA2NCIgd2lkdGg9IjY0cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnPjxnPjxwYXRoIGQ9Ik00OS4yLDI4LjJoLTMuNGMtMC4yLDAtMC40LDAuMi0wLjUsMC40bC0xLjQsOC44YzAsMC4yLDAuMSwwLjMsMC4zLDAuM2gxLjhjMC4yLDAsMC4zLTAuMSwwLjMtMC4zICAgIGwwLjQtMi41YzAtMC4yLDAuMi0wLjQsMC41LTAuNGgxLjFjMi4zLDAsMy42LTEuMSwzLjktMy4zYzAuMi0wLjksMC0xLjctMC40LTIuMkM1MS4yLDI4LjUsNTAuMywyOC4yLDQ5LjIsMjguMiBNNDkuNiwzMS41ICAgIGMtMC4yLDEuMi0xLjEsMS4yLTIsMS4ySDQ3bDAuNC0yLjNjMC0wLjEsMC4xLTAuMiwwLjMtMC4yaDAuMmMwLjYsMCwxLjIsMCwxLjUsMC40QzQ5LjYsMzAuNyw0OS42LDMxLDQ5LjYsMzEuNSIgZmlsbD0iIzEzOUFENiIvPjwvZz48Zz48cGF0aCBkPSJNMjQuNywyOC4yaC0zLjRjLTAuMiwwLTAuNCwwLjItMC41LDAuNGwtMS40LDguOGMwLDAuMiwwLjEsMC4zLDAuMywwLjNoMS42YzAuMiwwLDAuNC0wLjIsMC41LTAuNCAgICBsMC40LTIuNGMwLTAuMiwwLjItMC40LDAuNS0wLjRoMS4xYzIuMywwLDMuNi0xLjEsMy45LTMuM2MwLjItMC45LDAtMS43LTAuNC0yLjJDMjYuNywyOC41LDI1LjksMjguMiwyNC43LDI4LjIgTTI1LjEsMzEuNSAgICBjLTAuMiwxLjItMS4xLDEuMi0yLDEuMmgtMC41bDAuNC0yLjNjMC0wLjEsMC4xLTAuMiwwLjMtMC4yaDAuMmMwLjYsMCwxLjIsMCwxLjUsMC40QzI1LjEsMzAuNywyNS4yLDMxLDI1LjEsMzEuNSIgZmlsbD0iIzI2M0I4MCIvPjwvZz48Zz48cGF0aCBkPSJNMzUsMzEuNGgtMS42Yy0wLjEsMC0wLjMsMC4xLTAuMywwLjJMMzMsMzIuMWwtMC4xLTAuMmMtMC40LTAuNS0xLjEtMC43LTEuOS0wLjdjLTEuOCwwLTMuNCwxLjQtMy43LDMuMyAgICBjLTAuMiwxLDAuMSwxLjksMC42LDIuNWMwLjUsMC42LDEuMiwwLjgsMi4xLDAuOGMxLjUsMCwyLjMtMC45LDIuMy0wLjlsLTAuMSwwLjVjMCwwLjIsMC4xLDAuMywwLjMsMC4zaDEuNSAgICBjMC4yLDAsMC40LTAuMiwwLjUtMC40bDAuOS01LjZDMzUuMywzMS42LDM1LjEsMzEuNCwzNSwzMS40IE0zMi43LDM0LjZjLTAuMiwwLjktMC45LDEuNi0xLjksMS42Yy0wLjUsMC0wLjktMC4yLTEuMS0wLjQgICAgYy0wLjItMC4zLTAuMy0wLjctMC4zLTEuMmMwLjEtMC45LDAuOS0xLjYsMS44LTEuNmMwLjUsMCwwLjgsMC4yLDEuMSwwLjRDMzIuNiwzMy43LDMyLjcsMzQuMiwzMi43LDM0LjYiIGZpbGw9IiMyNjNCODAiLz48L2c+PGc+PHBhdGggZD0iTTU5LjQsMzEuNGgtMS42Yy0wLjEsMC0wLjMsMC4xLTAuMywwLjJsLTAuMSwwLjVsLTAuMS0wLjJjLTAuNC0wLjUtMS4xLTAuNy0xLjktMC43ICAgIGMtMS44LDAtMy40LDEuNC0zLjcsMy4zYy0wLjIsMSwwLjEsMS45LDAuNiwyLjVjMC41LDAuNiwxLjIsMC44LDIuMSwwLjhjMS41LDAsMi4zLTAuOSwyLjMtMC45bC0wLjEsMC41YzAsMC4yLDAuMSwwLjMsMC4zLDAuMyAgICBoMS41YzAuMiwwLDAuNC0wLjIsMC41LTAuNGwwLjktNS42QzU5LjcsMzEuNiw1OS42LDMxLjQsNTkuNCwzMS40IE01Ny4xLDM0LjZjLTAuMiwwLjktMC45LDEuNi0xLjksMS42Yy0wLjUsMC0wLjktMC4yLTEuMS0wLjQgICAgYy0wLjItMC4zLTAuMy0wLjctMC4zLTEuMmMwLjEtMC45LDAuOS0xLjYsMS44LTEuNmMwLjUsMCwwLjgsMC4yLDEuMSwwLjRDNTcuMSwzMy43LDU3LjIsMzQuMiw1Ny4xLDM0LjYiIGZpbGw9IiMxMzlBRDYiLz48L2c+PGc+PGc+PHBhdGggZD0iTTQzLjcsMzEuNGgtMS43Yy0wLjIsMC0wLjMsMC4xLTAuNCwwLjJMMzkuNCwzNWwtMS0zLjJjLTAuMS0wLjItMC4yLTAuMy0wLjUtMC4zaC0xLjYgICAgIGMtMC4yLDAtMC4zLDAuMi0wLjMsMC40bDEuOCw1LjNsLTEuNywyLjRjLTAuMSwwLjIsMCwwLjUsMC4yLDAuNWgxLjZjMC4yLDAsMC4zLTAuMSwwLjQtMC4ybDUuNS03LjkgICAgIEM0NC4xLDMxLjcsNDMuOSwzMS40LDQzLjcsMzEuNCIgZmlsbD0iIzI2M0I4MCIvPjwvZz48Zz48cGF0aCBkPSJNNjEuMywyOC41bC0xLjQsOWMwLDAuMiwwLjEsMC4zLDAuMywwLjNoMS40YzAuMiwwLDAuNC0wLjIsMC41LTAuNGwxLjQtOC44YzAtMC4yLTAuMS0wLjMtMC4zLTAuM2gtMS42ICAgICBDNjEuNSwyOC4yLDYxLjQsMjguMyw2MS4zLDI4LjUiIGZpbGw9IiMxMzlBRDYiLz48L2c+PGc+PHBhdGggZD0iTTEyLDI1LjJDMTEuMywyNC40LDEwLDI0LDguMiwyNGgtNWMtMC4zLDAtMC42LDAuMy0wLjcsMC42TDAuNSwzNy43YzAsMC4zLDAuMiwwLjUsMC40LDAuNUg0bDAuOC00LjkgICAgIGwwLDAuMmMwLjEtMC4zLDAuNC0wLjYsMC43LTAuNmgxLjVjMi45LDAsNS4xLTEuMiw1LjgtNC41YzAtMC4xLDAtMC4yLDAtMC4zYy0wLjEsMC0wLjEsMCwwLDBDMTIuOSwyNi44LDEyLjcsMjYsMTIsMjUuMiIgZmlsbD0iIzI2M0I4MCIvPjwvZz48L2c+PGc+PHBhdGggZD0iTTEyLjcsMjguMUwxMi43LDI4LjFjMCwwLjEsMCwwLjIsMCwwLjNjLTAuNywzLjQtMi45LDQuNS01LjgsNC41SDUuNGMtMC4zLDAtMC42LDAuMy0wLjcsMC42bC0xLDYuMSAgICBjMCwwLjIsMC4xLDAuNCwwLjQsMC40aDIuNmMwLjMsMCwwLjYtMC4yLDAuNi0wLjVsMC0wLjFsMC41LTMuMWwwLTAuMmMwLTAuMywwLjMtMC41LDAuNi0wLjVoMC40YzIuNSwwLDQuNS0xLDUtNCAgICBjMC4yLTEuMiwwLjEtMi4zLTAuNS0zQzEzLjIsMjguNCwxMywyOC4yLDEyLjcsMjguMSIgZmlsbD0iIzEzOUFENiIvPjwvZz48Zz48cGF0aCBkPSJNMTIsMjcuOGMtMC4xLDAtMC4yLTAuMS0wLjMtMC4xYy0wLjEsMC0wLjIsMC0wLjMtMC4xYy0wLjQtMC4xLTAuOC0wLjEtMS4zLTAuMUg2LjJjLTAuMSwwLTAuMiwwLTAuMywwLjEgICAgYy0wLjIsMC4xLTAuMywwLjMtMC4zLDAuNWwtMC44LDUuMmwwLDAuMmMwLjEtMC4zLDAuNC0wLjYsMC43LTAuNmgxLjVjMi45LDAsNS4xLTEuMiw1LjgtNC41YzAtMC4xLDAtMC4yLDAuMS0wLjMgICAgYy0wLjItMC4xLTAuMy0wLjItMC41LTAuMkMxMi4xLDI3LjgsMTIuMSwyNy44LDEyLDI3LjgiIGZpbGw9IiMyMzJDNjUiLz48L2c+PC9nPjwvc3ZnPg==",
            }
        )
        self.client_id = self.get_variable("com.big.bot.paypal", "CLIENT_ID")
        self.client_secret = self.get_variable("com.big.bot.paypal", "CLIENT_SECRET")

    def build_payment_page(self, binder, state, *args, **kwargs):
        return self.render(
            "static/templates/paypal_checkout.html",
            state,
            {
                "client_id": self.client_id,
                "client_secret": self.client_secret,
            },
        )

    def make_payment(self, binder, state, params, *args, **kwargs):
        return True


# SANDBOX_CLIENT_ID = "XXXX"
# SANDBOX_CLIENT_SECRET = "XXXX"
# Redirect url  = https://dev.abigbot.com/auth/provider
